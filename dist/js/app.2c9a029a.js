(function(t){function e(e){for(var r,o,n=e[0],c=e[1],u=e[2],d=0,m=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],r=!0,n=1;n<s.length;n++){var c=s[n];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var u=0;u<n.length;u++)e(n[u]);var l=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var r=s("85ec"),a=s.n(r);a.a},"42a8":function(t,e,s){},4678:function(t,e,s){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=i(t);return s(e)}function i(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id="4678"},"56d7":function(t,e,s){"use strict";s.r(e);var r=s("2b0e"),a=s("2f62"),i=s("bc3a"),o=s.n(i);function n(t){return JSON.parse(window.localStorage.getItem(t))}function c(t,e){window.localStorage.setItem(t,JSON.stringify(e))}function u(t){const e=!1,s=e?"http://localhost:8000/api":"https://darkforum.herokuapp.com/api";o.a.defaults.baseURL=s,o.a.defaults.headers.common.Authorization=t.currentUser?t.currentUser.token:""}var l={namespaced:!0,state:{currentUser:n("auth.currentUser")},getters:{authUser(){}},actions:{initAuthentication({state:t}){u(t)},registerUserWithEmailAndPassword(){},signInWithEmailAndPassword(){},signOut(){},fetchAuthUser(){}},mutations:{setCurrentUser(t,e){t.currentUser=e,c("auth.currentUser",e),u(t)},setUnsubscribeAuthObserver(t,e){t.unsubscribeAuthObserver=e}}},d={namespaced:!0,state:{categories:[],forums:[],category:{}},actions:{async fetchCategory({commit:t},e){try{const s=await o.a.get(`/categories/${e}`);return t("setCategory",s.data.category),s.data.category}catch(s){throw Error(s)}},async fetchCategories({commit:t}){try{const e=await o.a.get("/categories");t("setCategories",e.data.categories)}catch(e){throw Error(e)}},async fetchCategoryBySlug({commit:t},e){try{const s=await o.a.get(`/categories/slug/${e}`);return t("setCategory",s.data.category),s.data.category}catch(s){throw Error(s)}},async fetchForums({commit:t},e){try{const e=await o.a.get("/forums");t("setForums",e.data.forums)}catch(s){throw Error(e)}}},mutations:{setCategories(t,e){t.categories=e},setCategory(t,e){t.category=e},setForums(t,e){t.forums=e}}},m={namespaced:!0,state:{items:{}},actions:{createPost(){},updatePost(){},fetchPost(){},fetchPosts(){}},mutations:{setPost(){}}},h={namespaced:!0,state:{threads:[],thread:{}},getters:{threadRepliesCount(){}},actions:{createThread(){},updateThread(){},async fetchThreadBySlug({commit:t},e){try{const s=await o.a.get(`/threads/slug/${e}`);return t("setThread",s.data.thread),s.data.thread}catch(s){throw Error(s)}},fetchThread(){},fetchThreads(){}},mutations:{setThreads(t,e){t.threads=e},setThread(t,e){t.thread=e},appendPostToThread(){},appendContributorToThread(){}}},f={namespaced:!0,state:{items:[]},getters:{userPosts(){},userThreadsCount(){},userPostsCount(){}},actions:{createUser(){},updateUser(){},fetchUser(){},fetchUsers(){}},mutations:{setUser(){},appendPostToUser(){},appendThreadToUser(){}}},p={namespaced:!0,state:{forums:[],forum:{}},actions:{async fetchForum({commit:t},e){try{const s=await o.a.get(`/forums/${e}`);t("setForum",s.data.forum)}catch(s){throw Error(s)}},async fetchForumBySlug({commit:t},e){try{const s=await o.a.get(`/forums/slug/${e}`);return t("setForum",s.data.forum),s.data.forum}catch(s){throw Error(s)}},async fetchForums({commit:t}){try{const e=await o.a.get("/forums");t("setForums",e.data.forums)}catch(e){throw Error(e)}}},mutations:{appendThreadToForum(){},setForums(t,e){t.forums=e},setForum(t,e){t.forum=e}}},v={auth:l,categories:d,posts:m,threads:h,users:f,forums:p};r["a"].use(a["a"]);var b=new a["a"].Store({state:{},mutations:{},actions:{},modules:v}),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{attrs:{title:t._f("humanFriendlyDate")(t.timestamp)}},[t._v(t._s(t._f("diffForHumans")(t.timestamp)))])},_=[],C=s("c1df"),y=s.n(C),j={props:{timestamp:{required:!0,type:String}},filters:{humanFriendlyDate(t){return y()(t).format("MMMM Do YYYY, h:mm:ss a")},diffForHumans(t){return y()(t).fromNow()}}},$=j,w=s("2877"),x=Object(w["a"])($,g,_,!1,null,"3045d952",null),k=x.exports,O=s("1dce"),P=s.n(O),T=s("8c4f"),U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"col-full push-top"},[s("h1",[t._v("Welcome to the Forum")]),s("CategoryList",{attrs:{categories:t.categories}})],1):t._e()},q=[],S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.categories,(function(t){return s("CategoryListItem",{key:t.id,attrs:{category:t}})})),1)},E=[],L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"forum-list"},[s("h2",{staticClass:"list-title"},[s("router-link",{attrs:{to:{name:"Category",params:{slug:t.category.slug}}}},[t._v(t._s(t.category.name))])],1),t.localCategory.forums?s("ForumList",{attrs:{forums:t.localCategory.forums}}):t._e()],1)},N=[],D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.forums,(function(t){return s("ForumListItem",{key:t.id,attrs:{forum:t}})})),1)},F=[],I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"forum-listing"},[s("div",{staticClass:"forum-details"},[s("router-link",{staticClass:"text-xlarge",attrs:{to:{name:"Forum",params:{slug:t.forum.slug}}}},[t._v(t._s(t.forum.name))])],1),s("div",{staticClass:"last-thread"})])},A=[],z={props:{forum:{required:!0,type:Object}},data(){return{localForum:{}}},computed:{threadsCount(){return this.forum.threadsCount}},methods:{...Object(a["b"])("forums",["fetchForum"])},created(){this.fetchForum(this.forum._id).then(t=>{this.localForum=t})}},H=z,R=Object(w["a"])(H,I,A,!1,null,"6c1b0e83",null),M=R.exports,W={components:{ForumListItem:M},props:{forums:{required:!0,type:Array}}},B=W,G=Object(w["a"])(B,D,F,!1,null,"f12223ea",null),J=G.exports,Y={components:{ForumList:J},data(){return{localCategory:{}}},props:{category:{required:!0,type:Object}},created(){this.fetchCategory(this.category._id).then(t=>{this.localCategory=t})},methods:{...Object(a["b"])("categories",["fetchCategory"])},destroyed(){this.$destroy()}},V=Y,K=Object(w["a"])(V,L,N,!1,null,"bebc5424",null),Q=K.exports,X={components:{CategoryListItem:Q},props:{categories:{required:!0,type:Array}}},Z=X,tt=Object(w["a"])(Z,S,E,!1,null,"ea5c151c",null),et=tt.exports,st={data(){return{asyncDataStatus_ready:!1}},methods:{asyncDataStatus_fetched(){this.asyncDataStatus_ready=!0,this.$emit("ready")}}},rt={components:{CategoryList:et},mixins:[st],computed:{...Object(a["d"])("categories",{categories:t=>t.categories})},methods:{...Object(a["b"])("categories",["fetchCategories"])},created(){this.fetchCategories().then(()=>{this.asyncDataStatus_fetched()})}},at=rt,it=Object(w["a"])(at,U,q,!1,null,null,null),ot=it.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"col-large push-top"},[s("h1",[t._v(" "+t._s(t.thread.title)+" "),s("router-link",{staticClass:"btn-green btn-small",attrs:{to:{name:"ThreadEdit",slug:this.slug},tag:"button"}},[t._v("Edit Thread")])],1),s("p",[t._v(" By "),s("a",{staticClass:"link-unstyled",attrs:{href:"#"}},[t._v(t._s(t.thread.author.username))]),t._v(", "),s("AppDate",{attrs:{timestamp:t.thread.publishedAt}}),t._v(". "),s("span",{staticClass:"hide-mobile text-faded text-small",staticStyle:{float:"right","margin-top":"2px"}},[t._v(t._s(t.repliesCount)+" replies by "+t._s(t.contributorsCount)+" contributors")])],1),s("PostList",{attrs:{posts:t.thread.posts}}),t.authUser?s("PostEditor",{attrs:{threadId:t.id}}):s("div",{staticClass:"text-center",staticStyle:{"margin-bottom":"50px"}},[s("router-link",{attrs:{to:{name:"SignIn",query:{redirectTo:t.$route.path}}}},[t._v("Sign in")]),t._v("or "),s("router-link",{attrs:{to:{name:"Register",query:{redirectTo:t.$route.path}}}},[t._v("Register")]),t._v("to post a reply. ")],1)],1):t._e()},ct=[],ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-list"},t._l(t.posts,(function(t){return s("PostListItem",{key:t[".key"],attrs:{post:t}})})),1)},lt=[],dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.post&&t.user?s("div",{staticClass:"post"},[s("div",{staticClass:"user-info"},[s("a",{staticClass:"user-name",attrs:{href:"#"}},[t._v(t._s(t.user.name))]),s("a",{attrs:{href:"#"}},[s("img",{staticClass:"avatar-large",attrs:{src:t.user.avatar,alt:""}})]),s("p",{staticClass:"desktop-only text-small"},[t._v(t._s(t.userThreadsCount)+" threads")]),s("p",{staticClass:"desktop-only text-small"},[t._v(t._s(t.userPostsCount)+" posts")])]),s("div",{staticClass:"post-content"},[t.editing?s("div",[s("PostEditor",{attrs:{post:t.post},on:{save:function(e){t.editing=!1},cancel:function(e){t.editing=!1}}})],1):[s("div",[t._v(" "+t._s(t.post.text)+" ")]),s("a",{staticClass:"link-unstyled",staticStyle:{"margin-left":"auto"},attrs:{href:"#",title:"Make a change"},on:{click:function(e){e.preventDefault(),t.editing=!0}}},[s("i",{staticClass:"fa fa-pencil"})])]],2),s("div",{staticClass:"post-date text-faded"},[t.post.edited?s("div",{staticClass:"edition-info"},[t._v("edited")]):t._e(),s("AppDate",{attrs:{timestamp:t.post.publishedAt}})],1)]):t._e()},mt=[],ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"form-input",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),s("div",{staticClass:"form-actions"},[t.isUpdate?s("button",{staticClass:"btn btn-ghost",on:{click:function(e){return e.preventDefault(),t.cancel(e)}}},[t._v("Cancel")]):t._e(),s("button",{staticClass:"btn-blue"},[t._v(t._s(t.isUpdate?"Update":"Submit post"))])])])},ft=[],pt={props:{threadId:{required:!1},post:{type:Object,validator:t=>{const e="string"===typeof t[".key"],s="string"===typeof t.text,r=e&&s;return s||console.error("😳 The post prop object must include a `text` attribute."),e||console.error("😳 The post prop object must include a `.key` attribute."),r}}},data(){return{text:this.post?this.post.text:""}},computed:{isUpdate(){return!!this.post}},methods:{...Object(a["b"])("posts",["createPost","updatePost"]),save(){this.persist().then(t=>{this.$emit("save",{post:t})})},cancel(){this.$emit("cancel")},create(){const t={text:this.text,threadId:this.threadId};return this.text="",this.createPost(t)},update(){const t={id:this.post[".key"],text:this.text};return this.updatePost(t)},persist(){return this.isUpdate?this.update():this.create()}}},vt=pt,bt=Object(w["a"])(vt,ht,ft,!1,null,"69676bf3",null),gt=bt.exports,_t={props:{post:{required:!0,type:Object}},components:{PostEditor:gt},data(){return{editing:!1}},computed:{user(){return this.$store.state.users.items[this.post.userId]},userPostsCount(){return this.$store.getters["users/userPostsCount"](this.post.userId)},userThreadsCount(){return this.$store.getters["users/userThreadsCount"](this.post.userId)}}},Ct=_t,yt=Object(w["a"])(Ct,dt,mt,!1,null,"5069dccc",null),jt=yt.exports,$t={components:{PostListItem:jt},props:{posts:{required:!0,type:Array}}},wt=$t,xt=Object(w["a"])(wt,ut,lt,!1,null,"7340384c",null),kt=xt.exports,Ot={components:{PostList:kt,PostEditor:gt},mixins:[st],props:{slug:{required:!0,type:String}},computed:{...Object(a["d"])("threads",{thread:t=>t.thread}),...Object(a["d"])("auth",{authUser:t=>t.currentUser}),repliesCount(){return this.thread.posts.length},contributorsCount(){return this.thread.contributors.length}},methods:{...Object(a["b"])("threads",["fetchThreadBySlug"])},created(){this.fetchThreadBySlug(this.slug).then(()=>{this.asyncDataStatus_fetched()})}},Pt=Ot,Tt=Object(w["a"])(Pt,nt,ct,!1,null,null,null),Ut=Tt.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"col-full push-top"},[s("h1",[t._v("Create new thread in "),s("i",[t._v(t._s(t.forum.name))])]),s("ThreadEditor",{ref:"editor",on:{save:t.save,cancel:t.cancel}})],1):t._e()},St=[],Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"thread_title"}},[t._v("Title:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-input",attrs:{type:"text",id:"thread_title",name:"title"},domProps:{value:t.form.title},on:{blur:function(e){return t.$v.form.title.$touch()},input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),t.$v.form.title.$error?[t.$v.form.title.required?t._e():s("span",{staticClass:"form-error"},[t._v("Thread must have a title")]),t.$v.form.title.minLength?t._e():s("span",{staticClass:"form-error"},[t._v("The title must be least 10 characters long")])]:t._e()],2),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"thread_content"}},[t._v("Content:")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.text,expression:"form.text"}],staticClass:"form-input",attrs:{id:"thread_content",name:"content",rows:"8",cols:"140"},domProps:{value:t.form.text},on:{blur:function(e){return t.$v.form.text.$touch()},input:function(e){e.target.composing||t.$set(t.form,"text",e.target.value)}}}),t.$v.form.text.$error?[t.$v.form.text.required?t._e():s("span",{staticClass:"form-error"},[t._v("Thread must have some content")]),t.$v.form.text.minLength?t._e():s("span",{staticClass:"form-error"},[t._v("The text of the thread must be least 40 characters long. Type at least "+t._s(40-t.form.text.length)+" more")])]:t._e()],2),s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-ghost",on:{click:function(e){return e.preventDefault(),t.cancel(e)}}},[t._v("Cancel")]),s("button",{staticClass:"btn btn-blue",attrs:{type:"submit",name:"Publish"}},[t._v(t._s(t.isUpdate?"Update":"Publish"))])])])},Lt=[],Nt=s("b5ae"),Dt={props:{title:{type:String,default:""},text:{type:String,default:""}},data(){return{form:{title:this.title,text:this.text}}},validations:{form:{title:{required:Nt["required"],minLength:Object(Nt["minLength"])(10)},text:{required:Nt["required"],minLength:Object(Nt["minLength"])(40)}}},computed:{isUpdate(){return!!this.title}},methods:{save(){this.$v.form.$touch(),this.$v.form.$invalid||this.$emit("save",{title:this.form.title,text:this.form.text})},cancel(){this.$emit("cancel")}}},Ft=Dt,It=Object(w["a"])(Ft,Et,Lt,!1,null,"89ddbef8",null),At=It.exports,zt={components:{ThreadEditor:At},mixins:[st],props:{forumId:{type:String,required:!0}},data(){return{saved:!1}},computed:{forum(){return this.$store.state.forums.items[this.forumId]},hasUnsavedChanges(){return(this.$refs.editor.form.title||this.$refs.editor.form.text)&&!this.saved}},methods:{...Object(a["b"])("threads",["createThread"]),...Object(a["b"])("forums",["fetchForum"]),save({title:t,text:e}){this.createThread({forumId:this.forum[".key"],title:t,text:e}).then(t=>{this.saved=!0,this.$router.push({name:"ThreadShow",params:{id:t[".key"]}})})},cancel(){this.$router.push({name:"Forum",params:{id:this.forum[".key"]}})}},created(){this.fetchForum({id:this.forumId}).then(()=>{this.asyncDataStatus_fetched()})},beforeRouteLeave(t,e,s){if(this.hasUnsavedChanges){const t=window.confirm("Are you sure you want to leave? Unsaved changes will be lost.");t?s():s(!1)}else s()}},Ht=zt,Rt=Object(w["a"])(Ht,qt,St,!1,null,"4f8547dd",null),Mt=Rt.exports,Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"col-full push-top"},[s("h1",[t._v(" Editing "),s("i",[t._v(t._s(t.thread.title))])]),s("ThreadEditor",{ref:"editor",attrs:{title:t.thread.title,text:t.text},on:{save:t.save,cancel:t.cancel}})],1):t._e()},Bt=[],Gt={components:{ThreadEditor:At},mixins:[st],props:{id:{type:String,required:!0}},computed:{thread(){return this.$store.state.threads.items[this.id]},text(){const t=this.$store.state.posts.items[this.thread.firstPostId];return t?t.text:null},hasUnsavedChanges(){return this.$refs.editor.form.title!==this.thread.title||this.$refs.editor.form.text!==this.text}},methods:{...Object(a["b"])("threads",["updateThread","fetchThread"]),...Object(a["b"])("posts",["fetchPost"]),save({title:t,text:e}){this.updateThread({id:this.id,title:t,text:e}).then(()=>{this.$router.push({name:"ThreadShow",params:{id:this.id}})})},cancel(){this.$router.push({name:"ThreadShow",params:{id:this.id}})}},created(){this.fetchThread({id:this.id}).then(t=>this.fetchPost({id:t.firstPostId})).then(()=>{this.asyncDataStatus_fetched()})},beforeRouteLeave(t,e,s){if(this.hasUnsavedChanges){const t=window.confirm("Are you sure you want to leave? Any unsaved changes will be lost!");t?s():s(!1)}else s()}},Jt=Gt,Yt=Object(w["a"])(Jt,Wt,Bt,!1,null,"1f0376be",null),Vt=Yt.exports,Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"col-full"},[s("h1",[t._v(t._s(t.category.name))]),t.category?s("CategoryListItem",{attrs:{category:t.category}}):t._e()],1):t._e()},Qt=[],Xt={components:{CategoryListItem:Q},mixins:[st],props:{slug:{required:!0,type:String}},computed:{category(){return this.$store.state.categories.category}},methods:{...Object(a["b"])("categories",["fetchCategoryBySlug"]),...Object(a["b"])("forums",["fetchForums"])},created(){this.fetchCategoryBySlug(this.slug).then(()=>{this.asyncDataStatus_fetched()})},destroyed(){this.$destroy()}},Zt=Xt,te=Object(w["a"])(Zt,Kt,Qt,!1,null,"35690a06",null),ee=te.exports,se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.asyncDataStatus_ready?s("div",{staticClass:"forum-wrapper"},[t.forum?s("div",{staticClass:"col-full push-top"},[s("div",{staticClass:"forum-header"},[s("div",{staticClass:"forum-details"},[s("h1",[t._v(t._s(t.forum.name))]),s("p",{staticClass:"text-lead"},[t._v(t._s(t.forum.description))]),s("AppDate",{attrs:{timestamp:t.forum.publishedAt}}),t._v(". "),s("p",[t._v("by "+t._s(t.forum.author.username)+".")])],1),s("router-link",{staticClass:"btn-green btn-small",attrs:{to:{name:"ThreadCreate",params:{forumId:this.forum.id}}}},[t._v("Start a thread")])],1)]):t._e(),s("div",{staticClass:"col-full push-top"},[s("ThreadList",{attrs:{threads:t.forum.threads}})],1)]):t._e()},re=[],ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"thread-list"},[s("h2",{staticClass:"list-title"},[t._v("Threads "+t._s(t.threadsCount))]),t._l(t.threads,(function(t){return s("ThreadListItem",{key:t._id,attrs:{thread:t}})}))],2)},ie=[],oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.thread?s("div",{staticClass:"thread"},[s("div",[s("p",[s("router-link",{attrs:{to:{name:"ThreadShow",params:{slug:t.thread.slug}}}},[t._v(t._s(t.thread.title))])],1),s("p",{staticClass:"text-faded text-xsmall"},[t._v(" By "),s("a",{attrs:{href:"#"}},[t._v(t._s(t.thread.author.username))]),t._v(", ")])])]):t._e()},ne=[],ce={props:{thread:{required:!0,type:Object}},computed:{}},ue=ce,le=Object(w["a"])(ue,oe,ne,!1,null,null,null),de=le.exports,me={components:{ThreadListItem:de},props:{threads:{required:!0,type:Array}},computed:{threadsCount(){return this.threads.length}}},he=me,fe=Object(w["a"])(he,ae,ie,!1,null,null,null),pe=fe.exports,ve={components:{ThreadList:pe},mixins:[st],props:{slug:{required:!0,type:String}},computed:{forum(){return this.$store.state.forums.forum},publishedAt(){return y()(this.forum.publishedAt).fromNow()}},methods:{...Object(a["b"])("forums",["fetchForumBySlug"]),...Object(a["b"])("threads",["fetchThreads"]),...Object(a["b"])("users",["fetchUser"])},created(){this.fetchForumBySlug(this.slug).then(()=>{this.asyncDataStatus_fetched()})}},be=ve,ge=(s("b941"),Object(w["a"])(be,se,re,!1,null,"47bc146f",null)),_e=ge.exports,Ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-grid"},[t.edit?s("UserProfileCardEditor",{attrs:{user:t.user}}):s("UserProfileCard",{attrs:{user:t.user}}),s("div",{staticClass:"col-7 push-top"},[s("div",{staticClass:"profile-header"},[s("span",{staticClass:"text-lead"},[t._v(" "+t._s(t.user.username)+"'s recent activity ")]),s("a",{attrs:{href:"#"}},[t._v("See only started threads?")])]),s("hr"),s("PostList",{attrs:{posts:t.userPosts}})],1)],1)},ye=[],je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3 push-top"},[s("div",{staticClass:"profile-card"},[s("p",{staticClass:"text-center"},[s("img",{staticClass:"avatar-xlarge",attrs:{src:t.user.avatar,alt:""}})]),s("h1",{staticClass:"title"},[t._v(t._s(t.user.username))]),s("p",{staticClass:"text-lead"},[t._v(t._s(t.user.name))]),s("p",{staticClass:"text-justify"},[t.user.bio?s("span",[t._v(t._s(t.user.bio))]):s("span",[t._v("No bio specified.")])]),s("span",{staticClass:"online"},[t._v(t._s(t.user.username)+" is online")]),s("div",{staticClass:"stats"},[s("span",[t._v(t._s(t.userPostsCount)+" posts")]),s("span",[t._v(t._s(t.userThreadsCount)+" threads")])]),s("hr"),t.user.website?s("p",{staticClass:"text-large text-center"},[s("i",{staticClass:"fa fa-globe"}),t._v(" "),s("a",{attrs:{href:t.user.website}},[t._v(t._s(t.user.website))])]):t._e()]),s("p",{staticClass:"text-xsmall text-faded text-center"},[t._v("Member since june 2003, last visited 4 hours ago")]),s("div",{staticClass:"text-center"},[s("hr"),s("router-link",{staticClass:"btn-green btn-small",attrs:{to:{name:"ProfileEdit"}}},[t._v(" Edit Profile ")])],1)])},$e=[],we={props:{user:{required:!0,type:Object}},computed:{userThreadsCount(){return this.$store.getters["users/userThreadsCount"](this.user[".key"])},userPostsCount(){return this.$store.getters["users/userPostsCount"](this.user[".key"])}}},xe=we,ke=Object(w["a"])(xe,je,$e,!1,null,"1a96e20b",null),Oe=ke.exports,Pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-3 push-top"},[s("div",{staticClass:"profile-card"},[s("p",{staticClass:"text-center"},[s("img",{staticClass:"avatar-xlarge img-update",attrs:{src:t.user.avatar,alt:""}})]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.activeUser.username,expression:"activeUser.username",modifiers:{lazy:!0}}],staticClass:"form-input text-lead text-bold",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.activeUser.username},on:{blur:function(e){return t.$v.activeUser.username.$touch()},change:function(e){return t.$set(t.activeUser,"username",e.target.value)}}}),t.$v.activeUser.username.$error?[t.$v.activeUser.username.required?t._e():s("span",{staticClass:"form-error"},[t._v("This field is required")]),t.$v.activeUser.username.unique?t._e():s("span",{staticClass:"form-error"},[t._v("Sorry! This username is taken")])]:t._e()],2),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.activeUser.name,expression:"activeUser.name"}],staticClass:"form-input text-lead",attrs:{type:"text",placeholder:"Full Name"},domProps:{value:t.activeUser.name},on:{blur:function(e){return t.$v.activeUser.name.$touch()},input:function(e){e.target.composing||t.$set(t.activeUser,"name",e.target.value)}}}),t.$v.activeUser.name.$error?[t.$v.activeUser.name.required?t._e():s("span",{staticClass:"form-error"},[t._v("The name field is required")])]:t._e()],2),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"user_bio"}},[t._v("Bio")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.activeUser.bio,expression:"activeUser.bio"}],staticClass:"form-input",attrs:{id:"user_bio",placeholder:"Write a few words about yourself."},domProps:{value:t.activeUser.bio},on:{input:function(e){e.target.composing||t.$set(t.activeUser,"bio",e.target.value)}}})]),s("div",{staticClass:"stats"},[s("span",[t._v(t._s(t.userPostsCount)+" posts")]),s("span",[t._v(t._s(t.userThreadsCount)+" threads")])]),s("hr"),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"user_website"}},[t._v("Website")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.activeUser.website,expression:"activeUser.website"}],staticClass:"form-input",attrs:{autocomplete:"off",id:"user_website"},domProps:{value:t.activeUser.website},on:{input:function(e){e.target.composing||t.$set(t.activeUser,"website",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"user_email"}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.activeUser.email,expression:"activeUser.email",modifiers:{lazy:!0}}],staticClass:"form-input",attrs:{autocomplete:"off",id:"user_email"},domProps:{value:t.activeUser.email},on:{blur:function(e){return t.$v.activeUser.email.$touch()},change:function(e){return t.$set(t.activeUser,"email",e.target.value)}}}),t.$v.activeUser.email.$error?[t.$v.activeUser.email.required?t.$v.activeUser.email.email?t.$v.activeUser.email.unique?t._e():s("span",{staticClass:"form-error"},[t._v("Sorry! This email is taken")]):s("span",{staticClass:"form-error"},[t._v("This in not a valid email address")]):s("span",{staticClass:"form-error"},[t._v("This field is required")])]:t._e()],2),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-label",attrs:{for:"user_location"}},[t._v("Location")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.activeUser.location,expression:"activeUser.location"}],staticClass:"form-input",attrs:{autocomplete:"off",id:"user_location"},domProps:{value:t.activeUser.location},on:{input:function(e){e.target.composing||t.$set(t.activeUser,"location",e.target.value)}}})]),s("div",{staticClass:"btn-group space-between"},[s("button",{staticClass:"btn-ghost",on:{click:function(e){return e.preventDefault(),t.cancel(e)}}},[t._v("Cancel")]),s("button",{staticClass:"btn-blue",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.save(e)}}},[t._v("Save")])])]),s("p",{staticClass:"text-xsmall text-faded text-center"},[t._v("Member since june 2003, last visited 4 hours ago")])])},Te=[],Ue=s("a00a"),qe={props:{user:{required:!0,type:Object}},data(){return{activeUser:{...this.user}}},computed:{userThreadsCount(){return this.$store.getters["users/userThreadsCount"](this.user[".key"])},userPostsCount(){return this.$store.getters["users/userPostsCount"](this.user[".key"])}},validations:{activeUser:{name:{required:Nt["required"]},username:{required:Nt["required"],unique(t){return t.toLowerCase()===this.user.usernameLower||Object(Ue["uniqueUsername"])(t)}},email:{required:Nt["required"],email:Nt["email"],unique(t){return t.toLowerCase()===this.user.email||Object(Ue["uniqueEmail"])(t)}}}},methods:{save(){this.$v.activeUser.$touch(),this.$v.activeUser.$invalid||(this.$store.dispatch("users/updateUser",{...this.activeUser}),this.$router.push({name:"Profile"}))},cancel(){this.$router.push({name:"Profile"})}}},Se=qe,Ee=Object(w["a"])(Se,Pe,Te,!1,null,"624732e0",null),Le=Ee.exports,Ne={components:{PostList:kt,UserProfileCard:Oe,UserProfileCardEditor:Le},mixins:[st],props:{edit:{type:Boolean,default:!1}},computed:{...Object(a["c"])({user:"auth/authUser"}),userPosts(){return this.$store.getters["users/userPosts"](this.user[".key"])}},created(){this.$store.dispatch("posts/fetchPosts",{ids:this.user.posts}).then(()=>this.asyncDataStatus_fetched())}},De=Ne,Fe=Object(w["a"])(De,Ce,ye,!1,null,"2cd06ac0",null),Ie=Fe.exports,Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-grid justify-center"},[s("div",{staticClass:"col-2"},[s("form",{staticClass:"card card-form",on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[s("h1",{staticClass:"text-center"},[t._v("Register")]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Full Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-input",attrs:{id:"name",type:"text"},domProps:{value:t.form.name},on:{blur:function(e){return t.$v.form.name.$touch()},input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t.$v.form.name.$error?[t.$v.form.name.required?t._e():s("span",{staticClass:"form-error"},[t._v("This field is required")])]:t._e()],2),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.form.username,expression:"form.username",modifiers:{lazy:!0}}],staticClass:"form-input",attrs:{id:"username",type:"text"},domProps:{value:t.form.username},on:{blur:function(e){return t.$v.form.username.$touch()},change:function(e){return t.$set(t.form,"username",e.target.value)}}}),t.$v.form.username.$error?[t.$v.form.username.required?t._e():s("span",{staticClass:"form-error"},[t._v("This field is required")]),t.$v.form.username.unique?t._e():s("span",{staticClass:"form-error"},[t._v("Sorry! This username is taken")])]:t._e()],2),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.form.email,expression:"form.email",modifiers:{lazy:!0}}],staticClass:"form-input",attrs:{id:"email"},domProps:{value:t.form.email},on:{blur:function(e){return t.$v.form.email.$touch()},change:function(e){return t.$set(t.form,"email",e.target.value)}}}),t.$v.form.email.$error?[t.$v.form.email.required?t.$v.form.email.email?t.$v.form.email.unique?t._e():s("span",{staticClass:"form-error"},[t._v("Sorry! This email is taken")]):s("span",{staticClass:"form-error"},[t._v("This in not a valid email address")]):s("span",{staticClass:"form-error"},[t._v("This field is required")])]:t._e()],2),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-input",attrs:{id:"password",type:"password"},domProps:{value:t.form.password},on:{blur:function(e){return t.$v.form.password.$touch()},input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t.$v.form.password.$error?[t.$v.form.password.required?t._e():s("span",{staticClass:"form-error"},[t._v("This field is required")]),t.$v.form.password.minLength?t._e():s("span",{staticClass:"form-error"},[t._v("The password must be at least 6 characters long")])]:t._e()],2),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"avatar"}},[t._v("Avatar")]),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.form.avatar,expression:"form.avatar",modifiers:{lazy:!0}}],staticClass:"form-input",attrs:{id:"avatar",type:"text"},domProps:{value:t.form.avatar},on:{blur:function(e){return t.$v.form.avatar.$touch()},change:function(e){return t.$set(t.form,"avatar",e.target.value)}}}),t.$v.form.avatar.$error?[t.$v.form.avatar.url?t.$v.form.avatar.supportedImageFile?t.$v.form.avatar.responseOk?t._e():s("span",{staticClass:"form-error"},[t._v("The supplied image cannot be found")]):s("span",{staticClass:"form-error"},[t._v("This file type is not supported by our system. Supported file types: .jpg, .png, .gif, .jpeg, .svg")]):s("span",{staticClass:"form-error"},[t._v("The supplied URL is invalid")])]:t._e()],2),t._m(0)]),s("div",{staticClass:"text-center push-top"},[s("button",{staticClass:"btn-red btn-xsmall",on:{click:t.registerWithGoogle}},[s("i",{staticClass:"fa fa-google fa-btn"}),t._v("Sign up with Google ")])])])])},ze=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-actions"},[s("button",{staticClass:"btn-blue btn-block",attrs:{type:"submit"}},[t._v("Register")])])}],He={data(){return{form:{name:null,username:null,email:null,password:null,avatar:null}}},validations:{form:{name:{required:Nt["required"]},username:{required:Nt["required"],unique:Ue["uniqueUsername"]},email:{required:Nt["required"],email:Nt["email"],unique:Ue["uniqueEmail"]},password:{required:Nt["required"],minLength:Object(Nt["minLength"])(6)},avatar:{url:Nt["url"],supportedImageFile:Ue["supportedImageFile"],responseOk:Ue["responseOk"]}}},methods:{register(){this.$v.form.$touch(),this.$v.form.$invalid||this.$store.dispatch("auth/registerUserWithEmailAndPassword",this.form).then(()=>this.successRedirect())},registerWithGoogle(){this.$store.dispatch("auth/signInWithGoogle").then(()=>this.successRedirect())},successRedirect(){const t=this.$route.query.redirectTo||{name:"Home"};this.$router.push(t)}},created(){this.$emit("ready")}},Re=He,Me=Object(w["a"])(Re,Ae,ze,!1,null,"257e4647",null),We=Me.exports,Be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-grid justify-center"},[s("div",{staticClass:"col-2"},[s("form",{staticClass:"card card-form",on:{submit:function(e){return e.preventDefault(),t.signIn(e)}}},[s("h1",{staticClass:"text-center"},[t._v("Login")]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-input",attrs:{id:"email",type:"text"},domProps:{value:t.form.email},on:{blur:function(e){return t.$v.form.email.$touch()},input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t.$v.form.email.$error?[t.$v.form.email.required?t.$v.form.email.email?t._e():s("span",{staticClass:"form-error"},[t._v("This in not a valid email address")]):s("span",{staticClass:"form-error"},[t._v("This field is required")])]:t._e()],2),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-input",attrs:{id:"password",type:"password"},domProps:{value:t.form.password},on:{blur:function(e){return t.$v.form.password.$touch()},input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t.$v.form.password.$error?[t.$v.form.password.required?t._e():s("span",{staticClass:"form-error"},[t._v("This field is required")]),t.$v.form.password.minLength?t._e():s("span",{staticClass:"form-error"},[t._v("The password must be at least 6 characters long")])]:t._e()],2),t._m(0),s("div",{staticClass:"form-actions text-right"},[s("router-link",{attrs:{to:{name:"Register"}}},[t._v("Create an account?")])],1)]),s("div",{staticClass:"push-top text-center"},[s("button",{staticClass:"btn-red btn-xsmall",on:{click:t.signInWithGoogle}},[s("i",{staticClass:"fa fa-google fa-btn"}),t._v("Sign in with Google")])])])])},Ge=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"push-top"},[s("button",{staticClass:"btn-blue btn-block",attrs:{type:"submit"}},[t._v("Log in")])])}],Je={data(){return{form:{email:null,password:null}}},validations:{form:{email:{required:Nt["required"],email:Nt["email"]},password:{required:Nt["required"],minLength:Object(Nt["minLength"])(6)}}},methods:{signIn(){this.$v.form.$touch(),this.$v.form.$invalid||this.$store.dispatch("auth/signInWithEmailAndPassword",{email:this.form.email,password:this.form.password}).then(()=>this.successRedirect()).catch(t=>alert("🤷‍️"+t.message))},signInWithGoogle(){this.$store.dispatch("auth/signInWithGoogle").then(()=>this.successRedirect()).catch(t=>alert("🤷‍️"+t.message))},successRedirect(){const t=this.$route.query.redirectTo||{name:"Home"};this.$router.push(t)}},created(){this.$emit("ready")}},Ye=Je,Ve=Object(w["a"])(Ye,Be,Ge,!1,null,"4b8ff397",null),Ke=Ve.exports,Qe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-full",class:t.$style.centered},[s("h1",{class:t.$style.headingLarge},[t._v("Not Found")]),s("p",{staticClass:"text-large",class:t.$style.textLarge},[t._v(" Ooops, we couldn't find what you are looking for. Why don't you "),s("router-link",{attrs:{to:{name:"Home"}}},[t._v(" go home instead? ")])],1)])},Xe=[],Ze={created(){this.$emit("ready")}},ts=Ze,es=s("87f2");function ss(t){this["$style"]=es["default"].locals||es["default"]}var rs=Object(w["a"])(ts,Qe,Xe,!1,ss,null,null),as=rs.exports;r["a"].use(T["a"]);const is=new T["a"]({routes:[{path:"/",name:"Home",component:ot},{path:"/category/:slug",name:"Category",component:ee,props:!0},{path:"/forum/:slug",name:"Forum",component:_e,props:!0},{path:"/thread/create/:forumId",name:"ThreadCreate",component:Mt,props:!0,meta:{requiresAuth:!0}},{path:"/thread/:slug",name:"ThreadShow",component:Ut,props:!0},{path:"/thread/:id/edit",name:"ThreadEdit",component:Vt,props:!0,meta:{requiresAuth:!0}},{path:"/me",name:"Profile",component:Ie,props:!0,meta:{requiresAuth:!0}},{path:"/me/edit",name:"ProfileEdit",component:Ie,props:{edit:!0},meta:{requiresAuth:!0}},{path:"/register",name:"Register",component:We,meta:{requiresGuest:!0}},{path:"/signin",name:"SignIn",component:Ke,meta:{requiresGuest:!0}},{path:"/logout",name:"SignOut",meta:{requiresAuth:!0},beforeEnter(t,e,s){b.dispatch("signOut").then(()=>s({name:"Home"}))}},{path:"*",name:"NotFound",component:as}],mode:"history"});is.beforeEach((t,e,s)=>{console.log(`🚦 navigating to ${t.name} from ${e.name}`),b.dispatch("auth/initAuthentication").then(e=>{t.matched.some(t=>t.meta.requiresAuth)?e?s():s({name:"SignIn",query:{redirectTo:t.path}}):t.matched.some(t=>t.meta.requiresGuest)&&e?s({name:"Home"}):s()})});var os=is,ns=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("TheNavbar"),s("div",{staticClass:"container"},[s("router-view",{directives:[{name:"show",rawName:"v-show",value:t.showPage,expression:"showPage"}],key:t.$route.path,on:{ready:t.pageReady}}),s("AppSpinner",{directives:[{name:"show",rawName:"v-show",value:!t.showPage,expression:"!showPage"}]})],1)],1)},cs=[],us=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeMobileNavbar,expression:"closeMobileNavbar"},{name:"handle-scroll",rawName:"v-handle-scroll",value:t.closeMobileNavbar,expression:"closeMobileNavbar"}],staticClass:"header",attrs:{id:"header"}},[r("router-link",{staticClass:"logo",attrs:{to:{name:"Home"}}},[r("img",{attrs:{src:s("ffe9")}})]),r("div",{staticClass:"btn-hamburger",on:{click:function(e){t.mobileNavOpen=!t.mobileNavOpen}}},[r("div",{staticClass:"top bar"}),r("div",{staticClass:"middle bar"}),r("div",{staticClass:"bottom bar"})]),r("nav",{staticClass:"navbar",class:{"navbar-open":t.mobileNavOpen}},[t.user?r("ul",[r("li",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeUserDropdown,expression:"closeUserDropdown"}],staticClass:"navbar-user"},[r("a",{on:{click:function(e){e.preventDefault(),t.userDropdownOpen=!t.userDropdownOpen}}},[r("img",{staticClass:"avatar-small",attrs:{src:t.user.avatar,alt:""}}),r("span",[t._v(" "+t._s(t.user.name)+" "),r("img",{staticClass:"icon-profile",attrs:{src:s("ba5f"),alt:""}})])]),r("div",{class:{"active-drop":t.userDropdownOpen},attrs:{id:"user-dropdown"}},[r("div",{staticClass:"triangle-drop"}),r("ul",{staticClass:"dropdown-menu"},[r("li",{staticClass:"dropdown-menu-item"},[r("router-link",{attrs:{to:{name:"Profile"}}},[t._v("View Profile")])],1),r("li",{staticClass:"dropdown-menu-item"},[r("a",{on:{click:function(e){return e.preventDefault(),t.$store.dispatch("auth/signOut")}}},[t._v("Sign Out")])])])])]),r("li",{staticClass:"navbar-mobile-item"},[r("router-link",{attrs:{to:{name:"Profile"}}},[t._v("View Profile")])],1),r("li",{staticClass:"navbar-mobile-item"},[r("a",{on:{click:function(e){return e.preventDefault(),t.$store.dispatch("auth/signOut")}}},[t._v("Sign Out")])])]):r("ul",[r("li",{staticClass:"navbar-item"},[r("router-link",{attrs:{to:{name:"SignIn"}}},[t._v("Sign In")])],1),r("li",{staticClass:"navbar-item"},[r("router-link",{attrs:{to:{name:"Register"}}},[t._v("Register")])],1)])])],1)},ls=[],ds={bind(t,e){t.__ClickOutsideHandler__=s=>{t===s.target||t.contains(s.target)||e.value(s)},document.body.addEventListener("click",t.__ClickOutsideHandler__)},unbind(t){document.body.removeEventListener("click",t.__ClickOutsideHandler__)}},ms={bind(t,e){t.__HandleScrollHandler__=t=>e.value(t),document.body.addEventListener("mousewheel",t.__HandleScrollHandler__),document.body.addEventListener("touchmove",t.__HandleScrollHandler__)},unbind(t){document.body.removeEventListener("mousewheel",t.__HandleScrollHandler__),document.body.removeEventListener("touchmove",t.__HandleScrollHandler__)}},hs={directives:{clickOutside:ds,handleScroll:ms},data(){return{userDropdownOpen:!1,mobileNavOpen:!1}},computed:{...Object(a["c"])({user:"auth/authUser"})},methods:{closeUserDropdown(){this.userDropdownOpen=!1},closeMobileNavbar(){this.mobileNavOpen=!1}}},fs=hs,ps=Object(w["a"])(fs,us,ls,!1,null,"3126e399",null),vs=ps.exports,bs=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},gs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sk-fading-circle"},[s("div",{staticClass:"sk-circle1 sk-circle"}),s("div",{staticClass:"sk-circle2 sk-circle"}),s("div",{staticClass:"sk-circle3 sk-circle"}),s("div",{staticClass:"sk-circle4 sk-circle"}),s("div",{staticClass:"sk-circle5 sk-circle"}),s("div",{staticClass:"sk-circle6 sk-circle"}),s("div",{staticClass:"sk-circle7 sk-circle"}),s("div",{staticClass:"sk-circle8 sk-circle"}),s("div",{staticClass:"sk-circle9 sk-circle"}),s("div",{staticClass:"sk-circle10 sk-circle"}),s("div",{staticClass:"sk-circle11 sk-circle"}),s("div",{staticClass:"sk-circle12 sk-circle"})])}],_s={},Cs=_s,ys=(s("9cee"),Object(w["a"])(Cs,bs,gs,!1,null,"0b10d30c",null)),js=ys.exports,$s=s("323e"),ws=s.n($s),xs={components:{TheNavbar:vs,AppSpinner:js},data(){return{showPage:!1}},methods:{pageReady(){this.showPage=!0,ws.a.done()}},created(){ws.a.configure({speed:200,showSpinner:!1}),ws.a.start(),this.$router.beforeEach((t,e,s)=>{this.showPage=!1,ws.a.start(),s()})}},ks=xs,Os=(s("034f"),Object(w["a"])(ks,ns,cs,!1,null,null,null)),Ps=Os.exports;r["a"].use(P.a),r["a"].component("AppDate",k),r["a"].config.productionTip=!1,new r["a"]({router:os,store:b,render:function(t){return t(Ps)}}).$mount("#app")},"85ec":function(t,e,s){},"87f2":function(t,e,s){"use strict";var r=s("c3ac"),a=s.n(r);e["default"]=a.a},"8b5c":function(t,e,s){},"9cee":function(t,e,s){"use strict";var r=s("42a8"),a=s.n(r);a.a},a00a:function(t,e){},b941:function(t,e,s){"use strict";var r=s("8b5c"),a=s.n(r);a.a},ba5f:function(t,e,s){t.exports=s.p+"img/arrow-profile.38f6985b.svg"},c3ac:function(t,e,s){t.exports={headingLarge:"PageNotFound_headingLarge_3wvlc",textLarge:"PageNotFound_textLarge_Lg9t8",centered:"PageNotFound_centered_1ui25"}},ffe9:function(t,e,s){t.exports=s.p+"img/vueschool-logo.64fbeddb.svg"}});
//# sourceMappingURL=app.2c9a029a.js.map